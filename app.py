
import streamlit as st
from datetime import date, timedelta

st.set_page_config(page_title="ЁЯМ╛ Yugdaan v8 - Pincode Aware AI", layout="centered")
st.title("ЁЯМ╛ Yugdaan v8 тАУ рдкрд┐рдирдХреЛрдб рдЖрдзрд╛рд░рд┐рдд рдлрд╝рд╕рд▓ рд╕рд▓рд╛рд╣")

st.markdown("### ЁЯУН рдкрд┐рдирдХреЛрдб рджрд░реНрдЬ рдХрд░реЗрдВ:")
pincode = st.text_input("рдЙрджрд╛рд╣рд░рдг: 841301", max_chars=6)

st.markdown("### ЁЯМ╛ рдЬрд╝рдореАрди рдХрд╛ рдЖрдХрд╛рд░:")
land = st.radio("рдЖрдкрдХреЗ рдкрд╛рд╕ рдХрд┐рддрдиреА рдЬрд╝рдореАрди рд╣реИ?", ["<1 рдПрдХрдбрд╝", "1-2 рдПрдХрдбрд╝", "2-5 рдПрдХрдбрд╝", "5+ рдПрдХрдбрд╝"])

st.markdown("### ЁЯМК рдЬрд╝рдореАрди рдХреА рд╣рд╛рд▓рдд:")
soil_type = st.selectbox("рдЬрд╝рдореАрди рдХреА рд╕реНрдерд┐рддрд┐:", ["рд╕рд╛рдорд╛рдиреНрдп (Normal)", "рджрд▓рджрд▓реА (Waterlogged)", "рдмрдВрдЬрд░ (Barren)", "рд░реЗрддреАрд▓реА (Sandy)"])

st.markdown("### ЁЯТ╕ рдЦреЗрддреА рдХрд╛ рдмрдЬрдЯ:")
budget = st.selectbox("рдмрдЬрдЯ:", ["тВ╣0тАУтВ╣20,000", "тВ╣20,000тАУтВ╣50,000", "тВ╣50,000+"])

district_map = {
    "841301": "Chapra",
    "844101": "Vaishali",
    "846004": "Darbhanga",
    "802301": "Arrah",
    "277001": "Ballia"
}

district_recs = {
    "Chapra": [("рдЖрд▓реВ (Potato)", "тВ╣18K", "тВ╣1.2L", "тЬЕ Stable"),
               ("рдзрд╛рди (Paddy)", "тВ╣20K", "тВ╣1.4L", "тЫЕ Mid Risk")],
    "Vaishali": [("рдордХреНрдХрд╛ (Maize)", "тВ╣15K", "тВ╣90K", "тЬЕ Low Cost"),
                 ("рдЯрдорд╛рдЯрд░ (Tomato)", "тВ╣28K", "тВ╣1.8L", "тЪая╕П Market Volatile")],
    "Darbhanga": [("рдордЦрд╛рдирд╛ (Fox Nut)", "тВ╣25K", "тВ╣1.5L", "тЬЕ Local Specialty"),
                  ("рдзрд╛рди (Paddy)", "тВ╣20K", "тВ╣1.2L", "тЫЕ Mid Risk")],
    "Arrah": [("рдЪрдирд╛ (Chickpea)", "тВ╣18K", "тВ╣1L", "тЬЕ Short Cycle"),
              ("рдЧреЗрд╣реВрдВ (Wheat)", "тВ╣22K", "тВ╣1.3L", "тЬЕ Reliable")],
    "Ballia": [("рд╕рдмреНрдЬрд╝реА рдорд┐рд╢реНрд░рдг (Mixed Veg)", "тВ╣25K", "тВ╣1.5L", "тЪая╕П Labour Intense"),
               ("рд╕рд░рд╕реЛрдВ (Mustard)", "тВ╣17K", "тВ╣80K", "тЬЕ Winter Crop")]
}

if st.button("ЁЯУК рд╕рд▓рд╛рд╣ рд▓реЗрдВ"):
    district = district_map.get(pincode, None)
    if district:
        st.success(f"ЁЯУН рдкрд┐рдирдХреЛрдб {pincode} тЖТ рдЬрд┐рд▓рд╛: {district}")
        st.markdown("### ЁЯза рдЙрд╕ рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП AI рд╕реБрдЭрд╛рдИ рдЧрдИ рдлрд╝рд╕рд▓реЗрдВ:")

        crops = district_recs[district]
        st.markdown("| рдлрд╝рд╕рд▓ | рд▓рд╛рдЧрдд | рдЖрдорджрдиреА | рдЬреЛрдЦрд┐рдо |")
        st.markdown("|------|--------|---------|--------|")
        for crop in crops:
            st.markdown(f"| {crop[0]} | {crop[1]} | {crop[2]} | {crop[3]} |")
    else:
        st.warning("тЭМ рдпрд╣ рдкрд┐рдирдХреЛрдб рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдирд╣реАрдВ рд╣реИред рдХреГрдкрдпрд╛ рдмрд┐рд╣рд╛рд░ рдХрд╛ рд╡реИрдз рдкрд┐рдирдХреЛрдб рдбрд╛рд▓реЗрдВред")

    st.markdown("### ЁЯУЕ рдЖрдЬ рд╕реЗ рдХреНрдпрд╛ рдХрд░реЗрдВ?")
    st.info("ЁЯСЙ рдЖрдЬ рдмреАрдЬ рдФрд░ рдЦрд╛рдж рдХреА рдЬрд╛рдирдХрд╛рд░реА рд▓реЗрдВ, рдХрд▓ рдЬреБрддрд╛рдИ рдХрд░рд╡рд╛рдПрдВред рд╣рд░ рдлрд╝рд╕рд▓ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рдЧрд╛рдЗрдб рдЬрд▓реНрдж рдЬреЛрдбрд╝реА рдЬрд╛рдПрдЧреАред")

    st.caption("тЪЩя╕П рдпреЗ рд╕реБрдЭрд╛рд╡ рдкрд┐рдирдХреЛрдб, рдмрдЬрдЯ, рдЬрд╝рдореАрди рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИрдВ тАУ Yugdaan AI рджреНрд╡рд╛рд░рд╛ред")
